$(function(){function t(t,e){var i=t.attr("placeholder");t.attr("placeholder",""),void 0==e?t.prev(".form__label--text").text(i):t.prev(".form__label--text").text(e)}function e(t){t.attr("placeholder",t.siblings(".form__label--text").text()),t.removeClass("done_input error_input"),t.siblings(".form__label--text").text(""),t.siblings(".form__label--error").text("")}function i(t,e){t.addClass("error_input").removeClass("default_input done_input").siblings(".form__label--error").text(e)}function l(t){t.siblings(".form__label--error").text("")}function n(t){t.addClass("default_input").removeClass("error_input").siblings(".form__label--error").text("")}function s(t){t.addClass("done_input").removeClass("error_input").siblings(".form__label--error").text("")}function a(){var t=[];$(".done_input").each(function(e,i){var l=$(this).prev(".form__label--text").html(),n=[l,$(this).val()];t.push(n)}),console.log(t)}function o(){3==$(".done_input").length?($(".submit_btn").addClass("btn_done").removeClass("btn_disabled"),$(".submit_btn").bind("click",function(){$("#form").submit(a())})):($(".submit_btn").addClass("btn_disabled").removeClass("btn_done"),$(".submit_btn").unbind("click"))}var r=$(".input-name"),h=$(".input-phone"),u=$(".input-email"),_=$(".input-name, .input-phone, .input-email"),d=($(".form__label--text"),$(".form__label--error"),/^[a-z0-9_-]+@[a-z0-9-]+\.[a-z]{1,6}/i);new IMask(document.getElementById("phone-mask"),{mask:"+{7}(000)000-00-00"});_.focus(function(){0==$(this).val().length&&t($(this))}),r.focusout(function(){0==$(this).val().length?(e($(this)),l($(this)),$(this).attr("placeholder","имя фамилия")):$(this).val().length>0&&$(this).val().length<3?i($(this),"введите корректное имя"):(s($(this)),t($(this),"имя фамилия")),o()}),h.focusout(function(){$(this).val().length>=0&&$(this).val().length<4?($(this).attr("placeholder","телефон"),n($(this)),$(this).val(""),$(this).siblings(".form__label--text").text(""),l()):$(this).val().length>3&&$(this).val().length<16?($(this).attr("placeholder",$(this).val()),i($(this),"введите корректный номер")):16==$(this).val().length&&(s($(this)),t($(this),"телефон")),o()}),u.focusout(function(){0==$(this).val().length?(e($(this)),l($(this)),$(this).attr("placeholder","email")):0!=$(this).val().search(d)?($(this).attr("placeholder",$(this).val()),i($(this),"введите корректный email")):(s($(this)),t($(this),"email")),o()})});